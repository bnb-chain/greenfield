## Local Network
This guide helps you create a validator node that runs the network locally for testing and other development-related purposes.

### Prerequisites

A computer running a Unix-like operating system (e.g., macOS, Linux)
Basic familiarity with the command line
Step 1: Install dependencies

The first step is to install the necessary dependencies, which include `Golang`, `Git`. Here are the steps to install them:

Install Golang by following the instructions for your operating system on the official Golang website (https://golang.org/dl/).

Install Git by following the instructions for your operating system on the official Git website (https://git-scm.com/book/en/v2/Getting-Started-Installing-Git).

Build the Greenfield CLI tools by running the following command in your terminal:

```bash
git clone https://github.com/bnb-chain/greenfield.git
cd greenfield
make build
```

### Create Genesis File and Start the Network

Step 1: Initialize configuration files

```bash
# The argument <moniker> is the custom username of your node, it should be human-readable.
./build/bin/gnfd init <moniker> --chain-id greenfield_9000-01 --staking-bond-denom BNB
```

All these configuration files are in ~/.gnfd by default, but you can overwrite the location of this folder by passing the --home flag.

The ~/.gnfd folder has the following structure:
```
.                                   # ~/.gnfd
  |- data                           # Contains the databases used by the node.
  |- config/
      |- app.toml                   # Application-related configuration file.
      |- config.toml                # Tendermint-related configuration file.
      |- genesis.json               # The genesis file.
      |- node_key.json              # Private key to use for node authentication in the p2p protocol.
      |- priv_validator_key.json    # Private key to use as a validator in the consensus protocol.

Step 2: Generate a validator and relayer keys and write it into the genesis block

Before starting the chain, you need to populate the state with at least one account.

1. Generate key in local store.

```bash
./build/bin/gnfd keys add validator --keyring-backend test
./build/bin/gnfd keys add relayer --keyring-backend test
./build/bin/gnfd keys add relayer_bls --keyring-backend test --algo eth_bls
```

2. Add the balances to genesis.json
Now that you have created a local account, go ahead and grant it some `BNB` tokens in your chain's genesis file. Doing so will also make sure your chain is aware of this account's existence:

```bash
VALIDATOR_ADDR=$(./build/bin/gnfd keys show validator -a --keyring-backend test)
RELAYER_ADDR=$(./build/bin/gnfd keys show relayer -a --keyring-backend test)
RELAYER_BLS=$(./build/bin/gnfd keys show relayer_bls --keyring-backend test --output json | jq -r .pubkey_hex)
./build/bin/gnfd add-genesis-account ${VALIDATOR_ADDR} 100000000000000000000000000BNB
./build/bin/gnfd add-genesis-account ${RELAYER_ADDR} 100000000000000000000000000BNB
```

3. Put generated Txs into genesis.json
Now that your account has some tokens, you need to add a validator to your chain.

```bash
./build/bin/gnfd collect-gentxs
```


Step 3: Configuring the Node Using app.toml and config.toml

The program automatically generates two configuration files inside ~/.gnfd/config by default:
 - config.toml: used to configure the Tendermint, learn more on [Tendermint's documentation](https://docs.tendermint.com/master/nodes/configuration.html),
 - app.toml: generated by the Cosmos SDK, and used to configure your app, such as state pruning strategies, telemetry, gRPC and REST servers configuration, state sync...


Step 4: Launch your chain

```bash
./build/bin/gnfd start
```

### Reference
The Greenfield chain is built using the `cosmos-sdk` and `Tendermint` core. There are various official configuration documents that can be referred to. These include:

1. [Quick scripts for running a local testnet](../../deployment/readme.md)
2. [Cosmos-sdk guide for running a node](https://docs.cosmos.network/main/run-node/run-node)
3. [Tendermint Docs](https://docs.tendermint.com/master/nodes/configuration.html)