syntax = "proto3";
package bnbchain.greenfield.challenge;

import "cosmos_proto/cosmos.proto";

option go_package = "github.com/bnb-chain/greenfield/x/challenge/types";

message EventStartChallenge {
  // The id of challenge, which is generated by blockchain.
  uint64 challenge_id = 1;

  // The id of object info to be challenged.
  uint64 object_id = 2;

  // The segment/piece index of the object info.
  uint32 segment_index = 3;

  // The storage provider to be challenged.
  string sp_operator_address = 4 [(cosmos_proto.scalar) = "cosmos.AddressString"];

  // The redundancy index, which comes from the index of storage providers.
  int32 redundancy_index = 5;
}

message EventCompleteChallenge {
  // The id of challenge.
  uint64 challenge_id = 1;

  // The result of challenge.
  uint32 result = 2;

  // The slashed storage provider address.
  string sp_operator_address = 3 [(cosmos_proto.scalar) = "cosmos.AddressString"];

  // The slashed amount from the storage provider.
  string slash_amount = 4;

  // The address of challenger.
  string challenger_address = 5 [(cosmos_proto.scalar) = "cosmos.AddressString"];

  // The reward amount to the challenger.
  string challenger_reward_amount = 6;

  // The submitter of challenge attestation.
  string submitter_address = 7 [(cosmos_proto.scalar) = "cosmos.AddressString"];

  // The reward amount to the submitter.
  string submitter_reward_amount = 8;

  // The addresses of validators participated in the attestation.
  repeated string validator_addresses = 9 [(cosmos_proto.scalar) = "cosmos.AddressString"];

  // The reward amount to the each validator.
  string validator_reward_amount = 10;
}

message EventChallengeHeartbeat {
  // The id of challenge.
  uint64 challenge_id = 1;
}
